var w=Object.defineProperty;var g=(o,t,e)=>t in o?w(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var p=(o,t,e)=>(g(o,typeof t!="symbol"?t+"":t,e),e);import{l as h,aH as V,a1 as I,ai as y,A as E,v as u,Z as a,s,aW as v,p as x,aU as L,aV as b,E as k,ah as A}from"./index.de5639c8.js";import{E as B,a as C}from"./el-form-item.15914f90.js";import{B as S,E as U}from"./BaseApiClient.94d471cc.js";class N{constructor(){p(this,"client",new S)}async login(t){return this.client.doPost("/auth/login",t)}}const F=o=>(L("data-v-779a746c"),o=o(),b(),o),P={class:"container"},H=F(()=>u("h1",null,"Login",-1)),M=k("Login"),T=h({__name:"LoginView",setup(o){const t=new N,e=V({username:"",password:""}),d=()=>{localStorage.getItem("auth-token")&&v.replace({path:"/"})};I(()=>{d()});const _=async()=>{try{const n=await t.login({username:e.username,password:e.password});localStorage.setItem("auth-token",n.token),d()}catch(n){console.error("Login failed",n)}};return(n,l)=>{const i=U,r=B,m=y,f=C;return x(),E("main",null,[u("div",P,[H,a(f,{model:e,"label-width":"120px"},{default:s(()=>[a(r,{label:"Username"},{default:s(()=>[a(i,{modelValue:e.username,"onUpdate:modelValue":l[0]||(l[0]=c=>e.username=c)},null,8,["modelValue"])]),_:1}),a(r,{label:"Password"},{default:s(()=>[a(i,{modelValue:e.password,"onUpdate:modelValue":l[1]||(l[1]=c=>e.password=c),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),a(r,null,{default:s(()=>[a(m,{type:"primary",onClick:_,class:"long-button"},{default:s(()=>[M]),_:1})]),_:1})]),_:1},8,["model"])])])}}});const z=A(T,[["__scopeId","data-v-779a746c"]]);export{z as default};
